<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>写一个能遍历对象和数组的通用forEach函数</title>
</head>

<body>
    <script type="text/javascript">
    	function forEach(obj,fn){
    		var key;
    		if (obj instanceof Array) {
    			obj.forEach(function(item,index){
    				fn(index,item);
    			});
    		}else{
    			for (key in obj) {
    				if (obj.hasOwnProperty(key)) {
    					fn(key,obj[key]);
    				}
    			}
    		}
    	}

    	var arr = [1,2,3];

    	var obj = {x:100,y:200};

    	forEach(arr,function(index,item){
    		console.log(index,item);
    	});

    	forEach(obj,function(key,val){
    		console.log(key,val);
    	});
    </script>
</body>

</html>